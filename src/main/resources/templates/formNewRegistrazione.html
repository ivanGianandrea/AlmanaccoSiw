<!DOCTYPE html>
<head>
    <title>Registrazione</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="/css/style.css">
</head>
<body>
	<nav class="navbar navbar-expand-lg fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="/">Almanacco Serie A</a>
				<div class="collapse navbar-collapse justify-content-end">
					<ul class="navbar-nav">


						<li class="nav-item dropdown-css" th:if="${#authorization.expression('hasAuthority(''ADMIN'')')}">
							<a class="nav-link" href="#" tabindex="0">Area Admin â–¾</a>
							<ul class="dropdown-menu-css">
								<li><a href="/admin/gestioneSquadra">Gestione Squadre</a></li>
								<li><a href="/admin/gestioneStagioni">Gestione Stagioni</a></li>
							</ul>
						</li>
						<li class="nav-item" th:if="${userDetails == null}">
							<a class="nav-link" href="/login">Login</a>
						</li>
						<li class="nav-item" th:if="${userDetails != null}">
							<div class="d-flex align-items-center">
								<span class="text-light me-2" th:text="${userDetails.username}">Utente</span>
								<a class="nav-link" href="/logout">Logout</a>
							</div>
						</li>

					</ul>
				</div>
			</div>
		</nav>
		<div class="container mt-5 pt-5">
		<h1 class="text-center main-title mb-4">Registrazione</h1>

		<div class="container mt-3">
		    <div class="row justify-content-center">
		        <div class="col-md-6 col-lg-5">
		            <form th:action="@{/registersalvata}" method="post" th:object="${credentials}" class="p-4 border rounded shadow-sm bg-white">
		                
		                <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger">
		                    <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">Errore</p>
		                </div>

		                <div class="mb-3">
		                    <label for="nome" class="form-label">Nome:</label>
		                    <input type="text" id="nome" class="form-control" th:field="*{user.nome}" />
		                    <div class="text-danger small" th:if="${#fields.hasErrors('user.nome')}" th:errors="*{user.nome}"></div>
		                </div>

		                <div class="mb-3">
		                    <label for="cognome" class="form-label">Cognome:</label>
		                    <input type="text" id="cognome" class="form-control" th:field="*{user.cognome}" />
		                    <div class="text-danger small" th:if="${#fields.hasErrors('user.cognome')}" th:errors="*{user.cognome}"></div>
		                </div>

		                <div class="mb-3">
		                    <label for="username" class="form-label">Username:</label>
		                    <input type="text" id="username" class="form-control" th:field="*{username}" />
		                    <div class="text-danger small" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
		                </div>

		                <div class="mb-3">
		                    <label for="password" class="form-label">Password:</label>
		                    <input type="password" id="password" class="form-control" th:field="*{password}" />
		                    <div class="text-danger small" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
		                </div>

		                <div class="d-grid gap-2">
		                    <button type="submit" class="btn btn-primary" style="background-color: #001f3f; border-color: #001f3f;">Registrati</button>
		                </div>
		            </form>

		            <div class="text-center mt-3">
		                <a class="btn btn-link" style="color: #001f3f;" href="/login">Indietro</a>
		            </div>
		        </div>
		    </div>
			</div>

			</body>

			</html>